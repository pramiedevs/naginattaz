<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naginattaz Metaverso</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body class="no-scrollbar">
    <header>
        <div class="header-logo">
            <a href="https://joaconavarro.github.io/naginattaz/" aria-current="page" class="navbar10_logo-link w-nav-brand w--current">
                <img src="../src/logos/LOGOS_1.png" alt="NAGINATTAZ logo in black." class="navbar10_logo icon-height-xlarge"/>
            </a>
        </div>
        <div class="header-right">
            <div id="image-preview-container" class="image-preview-container"></div>
            <input type="text" id="search-input" placeholder=" Buscar clases...">
            <button id="search">üîç</button>
            <div id="user-info" style="display: none;">
                <img id="user-pic" src="" alt="User Picture" style="border-radius: 50%; width: 50px; height: 50px;">
                <h2><span id="user-email">" "</span>!</h2>
            </div>
            <div id="g-signin-button" style="margin-right:2vh;"></div>            
            <button id="logout-button" style="display: none;">Log Out</button>
        </div>
    </header>
    <div class="container">
        <div class="left-panel">
            <button onclick="showContent('section1')">INICIO</button>
            <button onclick="showContent('section2')">CLASES</button>
            <button onclick="showContent('section3')">ESTILOS</button>
            <button onclick="showContent('section4')">PLAYLIST</button>
            <button onclick="showContent('section5')">CALENDARIO</button>
            <button onclick="showContent('section6')">COMUNIDAD</button>

        </div>
        <div class="main-content ">
            <div class="welcome-section">
                <h2 id="welcome-message">BIENVENIDO <span id="user-name"></span>!</h2>
        <p id="plan-info">TU PLAN ACTUAL ES BAMBU</p>
            </div>

            <script src="./google-login.js"></script>
            
            <div id="section1" class="content-section active">
                <img src="../src/BANNERPRINCIPAL_1.png" style="width:100%; margin-bottom: 2vh;">
                <img src="../src/BANNERPRINCIPAL_2.png" style="width:100%">                
            </div>
            <div id="section2" class="content-section">
                <div class="image-grid">
                    <div id="hiphop principiante">
                        <a href="./clases/index.html">
                        <img class="img-clases" src="../src/hiphop.png" loading="lazy" alt="Hip Hop Dance Style" style="filter: grayscale(1);" ></a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;">Hip Hop Principiante</h3>
                    </div>
                    <div id="hiphop intermedio">
                        <a href="./clases/index.html">
                        <img class="img-clases" src="../src/hiphop.png" loading="lazy" alt="Hip Hop Dance Style" style="filter: sepia(1);"></a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;">Hip Hop Intermedio</h3>
                    </div>
                    <div id="hiphop avanzado">
                        <a href="./clases/index.html">
                        <img class="img-clases" src="../src/hiphop.png" loading="lazy" alt="Hip Hop Dance Style"></a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;">Hip Hop Avanzado</h3>
                    </div>
                    <div id="contemporary principiante">
                        <img class="img-clases" src="../src/contemporary.png" loading="lazy" alt="Contemporary Dance Style" style="filter: grayscale(1);">
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Contemporary Principiante</h3>
                    </div>
                    <div id="contemporary intermedio">
                        <img class="img-clases" src="../src/contemporary.png" loading="lazy" alt="Contemporary Dance Style" style="filter: sepia(1);">
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Contemporary Intermedio</h3>
                    </div>
                    <div id="contemporary avanzado">
                        <img class="img-clases" src="../src/contemporary.png" loading="lazy" alt="Contemporary Dance Style">
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Contemporary Avanzado</h3>
                    </div>
                    <div id="workout principiante">
                        <a href="./clases/index.html">
                            <img class="img-clases" src="../src/workout.png" loading="lazy" alt="Workout Dance Style" style="filter: grayscale(1);">
                        </a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Workout Principiante</h3>
                    </div>
                    <div id="workout intermedio">
                        <a href="./clases/index.html">
                            <img class="img-clases" src="../src/workout.png" loading="lazy" alt="Workout Dance Style" style="filter: sepia(1);">
                        </a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Workout Intermedio</h3>
                    </div>
                    <div id="workout avanzado">
                        <a href="./clases/index.html">
                            <img class="img-clases" src="../src/workout.png" loading="lazy" alt="Workout Dance Style">
                        </a>
                        <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Workout Avanzado</h3>
                    </div>
                    
                </div>
            </div>
            <div id="section3" class="content-section">
                <h2>ESTILOS</h2>
                <p>Selecciona tu estilo preferido!</p>
            </div>
            <div id="section4" class="content-section">
                <h2>PLAYLIST</h2>
                <p>Selecciona playlists previamente confeccionadas por nuestro equipo de instructores para llevar a cabo tus rutinas.</p>
                <div class="spotify-container">
                <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M" width="600" height="700" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
                    <div class="overlay"></div>
                </div>
                <style>
                    .spotify-container {
                    margin-top:4vw;
                    height: 700px; /* Adjust height as needed */
        }
                    .spotify-container {
            position: relative;
        }
        .spotify-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
        .overlay {
                border-radius: 10px;
        position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgb(206 0 225 / 19%);
    pointer-events: none;
        }

                    
    </style>
            </div>
            <div id="section5" class="content-section">
                <h2>CALENDARIO</h2>
                <div class="calendar-container">
        <nav class="menu">
            <button id="calendar-btn">Calendar</button>
            <button id="dance-btn">Dance Routine</button>
            <button id="exercises-btn">Exercises</button>
            <button id="diet-btn">Diet</button>
        </nav>
        <div class="content">
            <div id="calendar-section" class="section">
                <iframe src="https://calendar.google.com/calendar/embed?src=argentina%23holiday%40group.v.calendar.google.com&ctz=America%2FBuenos_Aires" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
            </div>
            <div id="fixed-calendar-section" class="section" style="display: none;">
                <table class="fixed-calendar">
                    <thead>
                        <tr>
                            <th>Domingo</th>
                            <th>Lunes</th>
                            <th>Martes</th>
                            <th>Mi√©rcoles</th>
                            <th>Jueves</th>
                            <th>Viernes</th>
                            <th>S√°bado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Generating rows with JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
            </div>

<script src="./calendar.js"></script>
            
            <div id="section6" class="content-section">
                <h2>COMUNIDAD NAGINATTAZ</h2>
            </div>
        </div>
    </div>

    <script>


        // Toggle the search input and set up event listeners
        document.getElementById('search').addEventListener('click', function() {
            var searchInput = document.getElementById('search-input');
            var imagePreview = document.getElementById('image-preview');

            if (searchInput.classList.contains('visible')) {
                searchInput.classList.remove('visible');
                imagePreview.style.display = 'none';
                resetSection2();
            } else {
                searchInput.classList.add('visible');
                searchInput.focus();
            }
        });

        function showContent(sectionId) {
        var sections = document.querySelectorAll('.content-section');
        sections.forEach(function(section) {
            section.classList.remove('active');
        });
        document.getElementById(sectionId).classList.add('active');
    }
// Handle the search input
document.getElementById('search-input').addEventListener('input', function() {
    var query = this.value.toLowerCase();
    var imagePreviewContainer = document.getElementById('image-preview-container');
    var imageGridItems = document.querySelectorAll('#section2 .image-grid div');

    // Clear the previous preview images
    imagePreviewContainer.innerHTML = '';

    if (query) {
        var found = false;
        imageGridItems.forEach(function(item) {
            if (item.id.includes(query)) {
                item.style.display = 'block';
                var img = item.querySelector('img').src;

                // Create a new preview image for each match
                var previewImg = document.createElement('img');
                previewImg.src = img;
                previewImg.classList.add('image-preview');
                previewImg.style.display = 'inline-block';
                previewImg.addEventListener('click', function() {
                    // Simulate clicking the "CLASES" button to show section2
                    document.querySelector('button[onclick="showContent(\'section2\')"]').click();
                    
                });

                // Add the preview image to the container
                imagePreviewContainer.appendChild(previewImg);
                found = true;
            } else {
                item.style.display = 'none';
            }
        });

        if (!found) {
            imagePreviewContainer.innerHTML = ''; // Clear if no matches
        }
    } else {
        imagePreviewContainer.innerHTML = ''; // Clear previews if search input is cleared

        // Check if section2 is currently active
        if (document.getElementById('section2').classList.contains('active')) {
            resetSection2(); // Reset only if in section2
        }
    }
});

// Reset section2 to show all items
function resetSection2() {
    var imageGridItems = document.querySelectorAll('#section2 .image-grid div');
    imageGridItems.forEach(function(item) {
        item.style.display = 'block';
    });
}
    </script>
</body>
</html>
