<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naginattaz Metaverso</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="./calendar.js" defer></script>
    <script src="https://player.vimeo.com/api/player.js" defer></script>
    <script src="./wating.js"></script>
</head>
<body class="no-scrollbar">
    <div class="loading">
        <video autoplay muted playsinline preload="auto" onended="this.style.display='none'">
            <source src="./Logo-Animado_3D.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    <style>
        .loading video {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
}
    </style>

    <div id="loader">Loading...</div>

    <div id="notification" style="display: none; z-index: 100000; position: inherit; border-bottom: white 2px solid; width: 100%; height: 35px;background-color: rgb(163, 9, 104); color: white;align-items: center; justify-content: center; line-height: 20px;">
        <span id="notification-text" style="text-align: center;"></span>

        <a id="unite-button" href="./subscription.html" style="padding:5px; border-radius: 5px; color: white; background-color: rgb(190, 115, 190); text-decoration: none; margin-left: 10px;">Unite</a>
        <style>#unite-button:hover{
            background-color: var(--nagimagenta);
        }</style>
    </div>

    <header class="wating" id="header">
        <div class="header-logo">
            <a href="../index.html" aria-current="page" class="navbar10_logo-link w-nav-brand w--current">
                <img src="../src/logos/LOGOS_1.png" alt="NAGINATTAZ logo in black." class="navbar10_logo icon-height-xlarge"/>
            </a>
            <!--
            <div class="header-right mobile">
                <div id="image-preview-container" class="image-preview-container"></div>
                <input type="text" id="search-input" placeholder=" Buscar clases...">
                <button id="search" class="desktop">üîç</button>
                
            </div>-->
        </div>
            <div class="left-panel desktop">
                <button onclick="showContent('section1')">INICIO</button>
                <button onclick="showContent('section2')">CLASES</button>
                <button onclick="showContent('section3')">COMUNIDAD</button>
                <button onclick="showContent('section4')">PLAYLIST</button>
                <button onclick="showContent('section5')">CALENDARIO</button>
            </div>

            <!--
        <div class="header-right desktop">
            <div id="image-preview-container" class="image-preview-container"></div>
            <input type="text" id="search-input" placeholder=" Buscar clases...">
            <button id="search" class="desktop">üîç</button>            
        </div>-->

        <div class="left-panel mobile">
            <button onclick="showContent('section1')">INICIO</button>
            <button onclick="showContent('section2')">CLASES</button>
            <button onclick="showContent('section3')">COMUNIDAD</button>
            <button onclick="showContent('section4')">PLAYLIST</button>
            <button onclick="showContent('section5')">CALENDARIO</button>
            <div id="image-preview-container" class="image-preview-container"></div>
            <input type="text" id="search-input2" class="desktop" placeholder=" Buscar clases...">
            <button id="search2">üîç</button>
        </div>
        <div class="user-container"></div>
        <style>
            .logout-button {
                margin: 0 20px; 
                padding: .8rem 1.25rem;
                background-color: var(--nagiobispo);
                color: var(--white-smoke);
                border: 1px solid #000;
                border-radius: .25rem;
                cursor: pointer;
                transition: background-color 0.3s;
            }
    
            .logout-button:hover {
                background-color: var(--nagimagenta);
            }
        </style>

        <script>
            document.addEventListener('DOMContentLoaded', () => {
                // Check if the user is logged in

                
               if (sessionStorage.getItem('loggedIn') !== 'true') {
                   window.location.href = './login.html'; 
                   return; // Exit if redirecting
                }
    
                // If logged in, display user picture and logout button
                const userContainer = document.querySelector('.user-container');
                const userPic = document.createElement('img');
                const logoutButton = document.createElement('button');
    
                userPic.src = sessionStorage.getItem('userPic');
                userPic.alt = 'User Picture';
                userPic.style.width = '60px'; // Adjust size as needed
                userPic.style.borderRadius = '50%'; // Optional: Make it circular
    
                // Create logout button
                logoutButton.textContent = 'Logout';
                logoutButton.classList.add('logout-button'); // Add class for styling
                logoutButton.onclick = () => {
                    sessionStorage.clear(); // Clear session storage
                    window.location.reload(); // Reload the page
                };
    
                // Append user picture and logout button to the user container
                userContainer.appendChild(userPic);
                userContainer.appendChild(logoutButton);
                userContainer.style.display = 'flex'; // Adjust display style
                userContainer.style.alignItems = 'center'; // Center items vertically
            });
        </script>
    </header>

        <div id="main-content" class="main-content wating">
            <script>
                // Toggle the dropdown content
function toggleDropdown(id) {
    var dropdown = document.getElementById(id);
    // If the dropdown is visible, hide it
    if (dropdown.style.display === "block") {
        dropdown.style.display = "none";
    } else {
        // Hide all dropdowns
        var allDropdowns = document.querySelectorAll('.dropdown-content');
        allDropdowns.forEach(function(content) {
            content.style.display = "none";
        });
        // Show the clicked dropdown
        dropdown.style.display = "block";
    }
}

            </script>



            <div id="main-container" class="main-container">
                <!-- Left Panel (30%) -->
                <div id="panel" class="panel">
                    <!-- Clases Section -->
                    <button class="panel-button" onclick="showContent('section2'); showAllItems()">
                        Todas las Clases <span class="arrow">&#x2192;</span>
                    </button>
                    
                    <!-- Clases Individuales Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('clases'); filterItems('class')">
                        Clases Individuales <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="clases" class="dropdown-content">
                        <button class="dropdown-item">Clases Individuales</button>
                        <button class="dropdown-item">Pr√≥ximas Clases</button>
                    </div>
                    
                    <!-- Programas Section -->
                    <button class="panel-button" onclick="showContent('section2'); filterItems('program')">
                        Programas <span class="arrow">&#x2192;</span>
                    </button>
                    
                    <!-- Estilos Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('categories')">
                        Estilos <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="categories" class="dropdown-content">
                        <button class="dropdown-item" onclick="filterByCategory('hiphop')">Hip-Hop</button>
                        <button class="dropdown-item" onclick="filterByCategory('contemporary')">Contemporary</button>
                        <button class="dropdown-item" onclick="filterByCategory('workout')">Workout</button>
                    </div>
                    
                    <!-- Instructores Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('instructors')">
                        Instructores <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="instructors" class="dropdown-content">
                        <button class="dropdown-item" id="cami-lucca">Cami Lucca</button>
                        <button class="dropdown-item" id="cami-moroni">Cami Moroni</button>
                        <button class="dropdown-item" id="cami-poledo">Cami Poledo</button>
                        <button class="dropdown-item" id="cande-gonzalez">Cande Gonzalez</button>
                        <button class="dropdown-item" id="dami-espinola">Dami Espinola</button>
                        <button class="dropdown-item" id="fede-diaz">Fede D√≠az</button>
                        <button class="dropdown-item" id="ferna-brewer">Ferna Brewer</button>
                        <button class="dropdown-item" id="hera-sanchez">Hera Sanchez</button>
                        <button class="dropdown-item" id="ignacio-avello">Ignacio Avello</button>
                        <button class="dropdown-item" id="jose-galli">Jose Galli</button>
                        <button class="dropdown-item" id="kotho-nunez">Kotho Nu√±ez</button>
                        <button class="dropdown-item" id="lil-french">Lil French</button>
                        <button class="dropdown-item" id="mel-gabino">Mel Gabino</button>
                        <button class="dropdown-item" id="priscila-bertolo">Priscila B√©rtolo</button>
                        <button class="dropdown-item" id="valen-ferrari">Valen Ferrari</button>
                        <button class="dropdown-item" id="valen-mendillo">Valen Mendillo</button>
                        <button class="dropdown-item" id="vicky-branda">Vicky Branda</button>
                        <button class="dropdown-item" id="zai-forte">Zai Forte</button>
                    </div>
                    
                
                    <!-- Playlists Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('playlists')">
                        Playlists <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="playlists" class="dropdown-content">
                        <button class="dropdown-item">Playlist 1</button>
                        <button class="dropdown-item">Playlist 2</button>
                        <button class="dropdown-item">Playlist 3</button>
                    </div>
                
                    <!-- Calendario Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('calendar')">
                        Calendario <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="calendar" class="dropdown-content">
                        <button class="dropdown-item">Evento 1</button>
                        <button class="dropdown-item">Evento 2</button>
                        <button class="dropdown-item">Evento 3</button>
                    </div>
                
                    <!-- Comunidad Section -->
                    <button class="panel-button" onclick="showContent('section2'); toggleDropdown('community')">
                        Comunidad <span class="arrow">&#x2193;</span>
                    </button>
                    <div id="community" class="dropdown-content">
                        <button class="dropdown-item">Comunidad 1</button>
                    </div>
                </div>
                

                <script>


function showAllItems() {
    var items = document.querySelectorAll('.image-grid > div');
    items.forEach(function(item) {
        item.style.display = "block"; // Show all items
    });
}
                    // Function to filter items by type (program or class)
function filterItems(type) {
    var items = document.querySelectorAll('.image-grid > div');
    items.forEach(function(item) {
        // Check if the ID contains the type (program or class)
        if (item.id.toLowerCase().includes(type)) {
            item.style.display = "block"; // Show matching item
        } else {
            item.style.display = "none"; // Hide non-matching item
        }
    });
}

// Function to filter items by category (hiphop, contemporary, workout)
function filterByCategory(category) {
    var items = document.querySelectorAll('.image-grid > div');
    items.forEach(function(item) {
        // Check if the ID starts with the category name
        if (item.id.toLowerCase().startsWith(category)) {
            item.style.display = "block"; // Show matching item
        } else {
            item.style.display = "none"; // Hide non-matching item
        }
    });

    // Function to filter items by instructor name
function filterByInstructor(instructorId) {
    var items = document.querySelectorAll('.image-grid > div');
    items.forEach(function(item) {
        // Check if the ID contains the instructor's ID (e.g., 'vicky-branda')
        if (item.id.toLowerCase().includes(instructorId)) {
            item.style.display = "block"; // Show matching item
        } else {
            item.style.display = "none"; // Hide non-matching item
        }
    });
}

// Add event listeners for each instructor button
document.getElementById('vicky-branda').addEventListener('click', function() {
    filterByInstructor('vicky-branda');
});

document.getElementById('valen-ferrari').addEventListener('click', function() {
    filterByInstructor('valen-ferrari');
});

document.getElementById('cande-gonzalez').addEventListener('click', function() {
    filterByInstructor('cande-gonzalez');
});

document.getElementById('dami-espinola').addEventListener('click', function() {
    filterByInstructor('dami-espinola');
});

document.getElementById('fede-diaz').addEventListener('click', function() {
    filterByInstructor('fede-diaz');
});

document.getElementById('mel-gabino').addEventListener('click', function() {
    filterByInstructor('mel-gabino');
});

document.getElementById('cami-poledo').addEventListener('click', function() {
    filterByInstructor('cami-poledo');
});

document.getElementById('lil-french').addEventListener('click', function() {
    filterByInstructor('lil-french');
});

document.getElementById('cami-moroni').addEventListener('click', function() {
    filterByInstructor('cami-moroni');
});

document.getElementById('jose-galli').addEventListener('click', function() {
    filterByInstructor('jose-galli');
});

document.getElementById('valen-mendillo').addEventListener('click', function() {
    filterByInstructor('valen-mendillo');
});

document.getElementById('priscila-bertolo').addEventListener('click', function() {
    filterByInstructor('priscila-bertolo');
});

document.getElementById('cami-lucca').addEventListener('click', function() {
    filterByInstructor('cami-lucca');
});

document.getElementById('hera-sanchez').addEventListener('click', function() {
    filterByInstructor('hera-sanchez');
});

document.getElementById('kotho-nunez').addEventListener('click', function() {
    filterByInstructor('kotho-nunez');
});

document.getElementById('ferna-brewer').addEventListener('click', function() {
    filterByInstructor('ferna-brewer');
});

document.getElementById('ignacio-avello').addEventListener('click', function() {
    filterByInstructor('ignacio-avello');
});

document.getElementById('zai-forte').addEventListener('click', function() {
    filterByInstructor('zai-forte');
});

}

                </script>
            
                <!-- Main Content (70%) -->
                <div id="contenido" class="contenido">
                    <div id="welcome" class="welcome-section">
                        <h2 id="welcome-message">BIENVENIDO <span id="user-name"></span>!</h2>
                        <p id="plan-info"></p>
                    </div>
            
                    <div id="section1" class="content-section active">
                        <div class="image-container">
                            <img src="../src/BANNERPRINCIPAL_1.png" style="width:100%; margin-bottom: 2vh;">
                        </div>                
                        <!-- <iframe src="https://player.vimeo.com/video/1019631883?&player_&controls=0&autoplay=1&muted=1&loop=1" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write" style="position: inherit; width:1200px;height:100%;" title="nagi video"></iframe> -->            
                        </div>
                    <div id="section2" class="content-section">
                        <div class="image-grid">
                            <div id="hiphop program vicky-branda">
                                <a href="./clases/index.html">
                                <img class="img-clases" src="../src/hiphop.png" loading="lazy" alt="Hip Hop Dance Style" style="filter: grayscale(1);" ></a>
                                <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;">Hip Hop</h3>
                            </div>
                            <div id="contemporary class cami-lucca">
                                <img class="img-clases" src="../src/contemporary.png" loading="lazy" alt="Contemporary Dance Style" style="filter: grayscale(1);">
                                <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Contemporary</h3>
                            </div>
                            <div id="workout class cami-lucca cami-moroni">
                                <a href="./clases/index.html">
                                    <img class="img-clases" src="../src/workout.png" loading="lazy" alt="Workout Dance Style" style="filter: grayscale(1);">
                                </a>
                                <h3 style="width: 100%;position: absolute;bottom: -75px;z-index: 1000;"> Workout</h3>
                            </div>                    
                        </div>
                    </div>
                    <div id="section3" class="content-section">
                        <h2>ESTILOS</h2>
                        <p>Selecciona tu estilo preferido!</p>
                    </div>
                    <div id="section4" class="content-section">
                        <h2>PLAYLIST</h2>
                        <p>Selecciona playlists previamente confeccionadas por nuestro equipo de instructores para llevar a cabo tus rutinas.</p>
                        <div class="spotify-container">
                        <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M" width="600" height="700" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe>
                            <div class="overlay"></div>
                        </div>
                        <style>
                            .spotify-container {
                            margin-top:4vw;
                            height: 700px; /* Adjust height as needed */
                }
                            .spotify-container {
                    position: relative;
                }
                .spotify-container iframe {
                    width: 100%;
                    height: 100%;
                    border: none;
                }
                .overlay {
                        border-radius: 10px;
                position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgb(206 0 225 / 19%);
            pointer-events: none;
                }
        
                            
            </style>
                    </div>
        
        
        <div id="section5" class="content-section">
            <h2>CALENDARIO</h2>
            <div class="calendar-container">
                <nav class="menu">
                    <button id="calendar-btn">Calendar</button>
                    <button id="dance-btn">Dance Routine</button>
                    <button id="exercises-btn">Exercises</button>
                    <button id="diet-btn">Diet</button>
                </nav>
                <div class="content">
                    <div id="calendar-section" class="section">
                        <iframe src="https://calendar.google.com/calendar/embed?src=argentina%23holiday%40group.v.calendar.google.com&ctz=America%2FBuenos_Aires" style="border: 0" width="800" height="600" frameborder="0" scrolling="no"></iframe>
                    </div>
                    <div id="dance-section" class="section" style="display: none;">
                        <table class="fixed-calendar">
                            <thead>
                                <tr>
                                    <th>Domingo</th>
                                    <th>Lunes</th>
                                    <th>Martes</th>
                                    <th>Mi√©rcoles</th>
                                    <th>Jueves</th>
                                    <th>Viernes</th>
                                    <th>S√°bado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Dance Routine rows here -->
                                <tr>
                                    <td>Dance Class: Hip-Hop (2 hrs)</td>
                                    <td>Dance Class: Ballet (2 hrs)</td>
                                    <td>Dance Class: Jazz (2 hrs)</td>
                                    <td>Dance Class: Contemporary (2 hrs)</td>
                                    <td>Dance Class: Salsa (2 hrs)</td>
                                    <td>Dance Class: Breakdance (2 hrs)</td>
                                    <td>Free Day</td>
                                </tr>
                                <!-- More rows as needed -->
                            </tbody>
                        </table>
                    </div>
                    <div id="exercises-section" class="section" style="display: none;">
                        <table class="fixed-calendar">
                            <thead>
                                <tr>
                                    <th>Domingo</th>
                                    <th>Lunes</th>
                                    <th>Martes</th>
                                    <th>Mi√©rcoles</th>
                                    <th>Jueves</th>
                                    <th>Viernes</th>
                                    <th>S√°bado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Exercises rows here -->
                                <tr>
                                    <td>Cardio + Upper Body (1 hr)</td>
                                    <td>Leg Day + Abs (1 hr)</td>
                                    <td>Cardio + Full Body Stretch (1 hr)</td>
                                    <td>Upper Body Strength (1 hr)</td>
                                    <td>Lower Body Strength (1 hr)</td>
                                    <td>Yoga + Flexibility (1 hr)</td>
                                    <td>Rest Day</td>
                                </tr>
                                <!-- More rows as needed -->
                            </tbody>
                        </table>
                    </div>
                    <div id="diet-section" class="section" style="display: none;">
                        <table class="fixed-calendar">
                            <thead>
                                <tr>
                                    <th>Domingo</th>
                                    <th>Lunes</th>
                                    <th>Martes</th>
                                    <th>Mi√©rcoles</th>
                                    <th>Jueves</th>
                                    <th>Viernes</th>
                                    <th>S√°bado</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                <td>Desayuno: Avena con Frutas</td>
                <td>Desayuno: Yogur Griego con Frutos Secos</td>
                <td>Desayuno: Batido con Espinacas</td>
                <td>Desayuno: Panqueques de Grano Integral</td>
                <td>Desayuno: Pud√≠n de Ch√≠a</td>
                <td>Desayuno: Huevos con Tostada de Aguacate</td>
                <td>Desayuno: Taz√≥n de Batido de Frutas</td>
            </tr>
            <tr>
                <td>Almuerzo: Ensalada de Pollo a la Parrilla</td>
                <td>Almuerzo: Taz√≥n de Quinoa y Vegetales</td>
                <td>Almuerzo: S√°ndwich de Pavo con Vegetales</td>
                <td>Almuerzo: Wrap de Pollo con Aguacate</td>
                <td>Almuerzo: Salteado de Vegetales con Tofu</td>
                <td>Almuerzo: Salteado de Carne de Res con Br√≥coli</td>
                <td>Almuerzo: Ensalada de At√∫n</td>
            </tr>
            <tr>
                <td>Cena: Salm√≥n al Horno con Vegetales</td>
                <td>Cena: Tofu Salteado con Arroz</td>
                <td>Cena: Sopa de Lentejas con Ensalada</td>
                <td>Cena: Espaguetis con Salsa Marinara</td>
                <td>Cena: Camarones a la Parrilla con Quinoa</td>
                <td>Cena: Batatas al Horno con Verduras</td>
                <td>Cena: Pizza Vegetariana con Masa Integral</td>
            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
                    
                    <div id="section6" class="content-section">
                        <h2>COMUNIDAD NAGINATTAZ</h2>
        
                        <!--
                        <div id="result"></div>
                        <script src="displayPHP.js"></script>
                        -->
                        
                    </div>
                </div>
                </div>
            </div>            
        </div>

    <script>

        /*
        // Toggle the search input and set up event listeners
        document.getElementById('search').addEventListener('click', function() {
            var searchInput = document.getElementById('search-input');
            var imagePreview = document.getElementById('image-preview');

            if (searchInput.classList.contains('visible')) {
                searchInput.classList.remove('visible');
                //imagePreview.style.display = 'none';
                resetSection2();
            } else {
                searchInput.classList.add('visible');
                searchInput.focus();
            }
        });
        
        // Toggle the search input and set up event listeners
        document.getElementById('search2').addEventListener('click', function() {
            var searchInput = document.getElementById('search-input2');
            var imagePreview = document.getElementById('image-preview');

            if (searchInput.classList.contains('visible')) {
                searchInput.classList.remove('visible');
                searchInput.classList.remove('desktop');
                //imagePreview.style.display = 'none';
                resetSection2();
            } else {
                searchInput.classList.add('visible');
                searchInput.classList.add('desktop');
                searchInput.focus();
            }
        });*/

        function showContent(sectionId) {
        var sections = document.querySelectorAll('.content-section');
        sections.forEach(function(section) {
            section.classList.remove('active');
        });
        document.getElementById(sectionId).classList.add('active');
    }

// Handle the search input
document.getElementById('search-input').addEventListener('input', function() {
    var query = this.value.toLowerCase();
    var imagePreviewContainer = document.getElementById('image-preview-container');
    var imageGridItems = document.querySelectorAll('#section2 .image-grid div');

    // Clear the previous preview images
    imagePreviewContainer.innerHTML = '';

    if (query) {
        var found = false;
        imageGridItems.forEach(function(item) {
            if (item.id.includes(query)) {
                item.style.display = 'block';
                var img = item.querySelector('img').src;

                // Create a new preview image for each match
                var previewImg = document.createElement('img');
                previewImg.src = img;
                previewImg.classList.add('image-preview');
                previewImg.style.display = 'inline-block';
                previewImg.addEventListener('click', function() {
                    // Simulate clicking the "CLASES" button to show section2
                    document.querySelector('button[onclick="showContent(\'section2\')"]').click();
                    
                });

                // Add the preview image to the container
                imagePreviewContainer.appendChild(previewImg);
                found = true;
            } else {
                item.style.display = 'none';
            }
        });

        if (!found) {
            imagePreviewContainer.innerHTML = ''; // Clear if no matches
        }
    } else {
        imagePreviewContainer.innerHTML = ''; // Clear previews if search input is cleared

        // Check if section2 is currently active
        if (document.getElementById('section2').classList.contains('active')) {
            resetSection2(); // Reset only if in section2
        }
    }
});

// Handle the search input
document.getElementById('search-input2').addEventListener('input', function() {
    var query = this.value.toLowerCase();
    var imagePreviewContainer = document.getElementById('image-preview-container');
    var imageGridItems = document.querySelectorAll('#section2 .image-grid div');

    // Clear the previous preview images
    imagePreviewContainer.innerHTML = '';

    if (query) {
        var found = false;
        imageGridItems.forEach(function(item) {
            if (item.id.includes(query)) {
                item.style.display = 'block';
                var img = item.querySelector('img').src;

                // Create a new preview image for each match
                var previewImg = document.createElement('img');
                previewImg.src = img;
                previewImg.classList.add('image-preview');
                previewImg.style.display = 'inline-block';
                previewImg.addEventListener('click', function() {
                    // Simulate clicking the "CLASES" button to show section2
                    document.querySelector('button[onclick="showContent(\'section2\')"]').click();
                    
                });

                // Add the preview image to the container
                imagePreviewContainer.appendChild(previewImg);
                found = true;
            } else {
                item.style.display = 'none';
            }
        });

        if (!found) {
            imagePreviewContainer.innerHTML = ''; // Clear if no matches
        }
    } else {
        imagePreviewContainer.innerHTML = ''; // Clear previews if search input is cleared

        // Check if section2 is currently active
        if (document.getElementById('section2').classList.contains('active')) {
            resetSection2(); // Reset only if in section2
        }
    }
});

// Reset section2 to show all items
function resetSection2() {
    var imageGridItems = document.querySelectorAll('#section2 .image-grid div');
    imageGridItems.forEach(function(item) {
        item.style.display = 'block';
    });
}

const plans = {
    "joaconavarro.untref@gmail.com": "",
    "paurocker993@gmail.com": "BAMB√ö",
    "nagitest@gmail.com": "ACERO",
    "pramietest@gmail.com": "OBSIDIAN",
    "brandavictoria@gmail.com": "OBSIDIAN",
    "durquiza311@gmail.com": "OBSIDIAN"
};
function updatePlan(userEmail) {
    const planInfoElement = document.getElementById("plan-info");
    const userNameElement = document.getElementById("user-name");
    const bodyElement = document.body;
    const notificationElement = document.getElementById("notification");
    const notificationText = document.getElementById("notification-text");

    userNameElement.textContent = userEmail.split('@')[0]; // Extract the username

    let plan = plans[userEmail] || "BAMB√ö"; // Assign BAMB√ö as default if no plan is found
    planInfoElement.textContent = `TU PLAN ACTUAL ES ${plan}`;

    // Handle class visibility based on plan
    manageClassVisibility(plan);

    switch (plan) {
        case "BAMB√ö":
            bodyElement.style.backgroundColor = "yellowgreen";
            notificationElement.style.display = "flex";
            notificationText.textContent = "Todav√≠a no sos Obsidian? Unite al plan y desbloque√° todo el contenido!";
            break;
        case "ACERO":
            bodyElement.style.backgroundColor = "grey";
            notificationElement.style.display = "flex";
            notificationText.textContent = "Todav√≠a no sos Obsidian? Unite al plan y desbloque√° todo el contenido!";
            break;
        case "OBSIDIAN":
            bodyElement.style.backgroundColor = "violet";
            notificationElement.style.display = "none";
            return;
        default:
            bodyElement.style.backgroundColor = "red";
            notificationElement.style.display = "flex";
            notificationText.textContent = "Todav√≠a no sos Obsidian? Unite al plan y desbloque√° todo el contenido!";
            break;
    }
}

function manageClassVisibility(plan) {
    // Select the .image-grid container
    const imageGrid = document.querySelector('.image-grid');
    
    // Select all items inside the .image-grid container
    const allItems = imageGrid.querySelectorAll('div');
    
    // Hide all items by default
    allItems.forEach(item => {
        item.style.display = 'none';
    });
    
    // Show the appropriate items based on the plan
    if (plan === "BAMB√ö") {
        // Only show the item with the 'free' class
        const freeItem = imageGrid.querySelector('.free');
        if (freeItem) {
            freeItem.style.display = 'block';
        }
    } else if (plan === "ACERO" || plan === "OBSIDIAN") {
        // Show all items for ACERO or OBSIDIAN plans
        allItems.forEach(item => {
            item.style.display = 'block';
        });
    }
}

function updatePlanFromStorage() {
    const userEmail = sessionStorage.getItem('userEmail'); // Retrieve the email
    if (userEmail) {
        updatePlan(userEmail);
    }
    console.log(userEmail, plans[userEmail])
}
document.addEventListener('DOMContentLoaded', () => {
    updatePlanFromStorage();
});


    </script>
    <script src="https://accounts.google.com/gsi/client" async></script>
</body>
</html>
